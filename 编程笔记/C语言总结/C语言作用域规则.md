## C语言作用域规则

任何一种编程中，作用域是程序中定义的变量所存在的区域，超过该区域变量就不能被访问。

**C语言定义变量的地方只能是函数开始部分**

C 语言中有三个地方可以声明变量：

1. 在函数或块内部的**局部**变量
2. 在所有函数外部的**全局**变量
3. 在**形式**参数的函数参数定义中

#### 局部变量

**在某个函数或块的内部声明的变量称为局部变量。**

**它们只能被该函数或该代码块内部的语句使用。**

**局部变量在函数外部是不可知的。**

#### 全局变量

全局变量是定义在函数外部，通常是在程序的顶部。

全局变量在整个程序生命周期内都是有效的，在任意的函数内部能访问全局变量。

全局变量可以被任何函数访问。

也就是说，全局变量在声明后整个程序中都是可用的。

在程序中，局部变量和全局变量的名称可以相同，

但是在函数内，如果两个名字相同，会使用局部变量值，全局变量不会被使用。

#### 形式参数

**C语言函数的参数传递都是值传递**

**如果要改变传递的参数的值可以使用引用传递的形式**

函数的参数，形式参数，被当作该函数内的局部变量，如果与全局变量同名它们会优先使用。

**全局变量与局部变量在内存中的区别**：

- 全局变量保存在内存的全局存储区中，占用静态的存储单元；
- 局部变量保存在栈中，只有在所在函数被调用时才动态地为变量分配存储单元。

#### 初始化局部变量和全局变量

当局部变量被定义时，系统不会对其初始化，您必须自行对其初始化。貌似是初始化为一个随机值

定义全局变量时，系统会自动对其初始化，初始化为0；void; ‘ \0’ 等值。

| 数据类型 | 初始化默认值 |
| :------- | :----------- |
| int      | 0            |
| char     | '\0'         |
| float    | 0            |
| double   | 0            |
| pointer  | NULL         |

### 形参和实参的区别

在 C 语言中，形参与实参虽然很简单，但是，是大家比较容易混淆的一个点，这里将为大家详细的讲解。

**概念：**从字面上理解，所谓**形式参数即只只是声明了一个作为参数的变量，并未直接进行赋值使用**，而实际参数则相反。

```c
#include <stdio.h>

int test(int,int); // 形参，只声明

int main()
{
    int a,b;
    printf("%d",test(5,3)); // 实参，已赋值
}

int test(int a,int b) // 形参
{
    a=a+b;
    return a;
}
```

像上面在 test() 函数里只声明了最为参数的变量，而 main() 函数里则对它赋了值。

关于C语言形参与实参的区别，我就简单说几点：

**实参可以是变量，变量与表达式。**实参与形参。

**实参与形参类型相同或赋值兼容**

在调用函数过程中发生的实参与形参之间的数据传递，常称为“虚实结合”

1. **在定义函数中制定的形参，在没有出现函数调用时不占用内存中的存储单元。在函数调用时才分配内存**
2. **将实参的值传递给形参**
3. 在执行函数时，由于形参已经有值。可以用形参进行运算。
4. 通过return语句将函数值返回，若无返回值，则无return
5. **调用结束后，形参被释放掉，实参保留原值（单向传值）**