## C语言变量

### 什么是变量

**变量**：用来标识一块内存区域，即变量就是一块内存区域，而这个区域的值可以更改，故叫做“变量”

**变量名**：是一个标识符，变量的名字，即一块内存区域的名字。变量名并不占用内存空间，使用变量名让我们操作内存以区域、块为单位，更加方便。

除了变量名不是内存地址，其他所有名都是地址吗？

所谓的其他名无非是函数名、标识符常量名、指针名、数组名、结构名、类名等等。
比如指针名、数组名、函数名就是地址，它们分别表示指针所指向元素的地址、数组的首地址和函数的入口地址。
变量名虽然不直接表示地址，但可用取地址符号&来获得它所代表的变量的存放地址。因为在定义变量的同时会分配给它相应的空间
而指针变量呢，它本身也是一个变量名，只不过它标识的那块内存存放的是一个地址值

### 变量内容

对变量定义就是告诉编译器在何处创建变量的存储，以及如何创建变量的存储。

按照变量的用途对变量进行分类：

变量的作用

- **局部变量**

- **全局变量**

变量储存方式 

- **静态存储方式**

  静态储存方式是指在程序运行期间有由系统分配固定的储存空间方式

- **动态存储方式**

  动态存储方式是指在程序运行期间根据需要进行动态的分配存储空间的方式

### 如何定义

每个变量和函数都会有两个属性：

- **数据类型**（浮点型整形之类）

- **数据存储类别**（静态存储和动态存储）

  - **自动的**（auto）

    函数中的局部变量    ：一般不专门声明静态 存储类别，都是动态的分配存储空间的，数据存储在动态存储区中
    一般函数中的形参和在函数中定义的局部变量都属于自动变量
    **简单来说就是在函数调用结束后，不保留该局部变量的值，其存储空间释放，下次调用该函数时自动创建一个全新的变量。**

    ```c
    int a,b=3;     
    ```

     等价于     

    ```c
    auto int a,b=3;
    ```

    

  - **静态的**（static）

    静态局部变量
    **简单来说在函数调用结束时，保留该局部变量变量的值，其存储空间不释放，下次调用该函数时该变量还是上次的值**

    > ```c
    > #include<stdio.h>
    > int main()
    > {
    > int abc(int a);
    > int b=2,c;
    > for(c=1;c<4;c++)
    > {
    > printf("%d\n",abc(b));
    > }
    > getchar();
    > getchar();
    > return 0;
    > }
    > int abc(int a)
    > {
    > auto int d=0;
    > static e=3;
    > d=d+1;
    > e=e+1;
    > return (a+d+e);
    > }
    > ```
    >
    > 每次调用d，d为1调用结束d为0；每次调用e，e=e+1.而不是3

  - **寄存器的**（register）

    在程序中当某些变量需要频繁使用时，为存取变量减少时间，提高效率，将局部变量的值放在CPU的寄存器中，不在从内存中存取。这种变量叫做寄存器变量。
  
    ```c
    register int f
    ```
  
     //定义f为寄存器变量
  
  - **外部的**（extern）
    函数分为内部函数和外部函数
    内部函数只能被本文件中其他函数所调用；而外部函数可供其他文件调用
    
    全局变量是存放在静态存储区。他们的生存期时固定的。
    一般来说外部变量是在函数外部定义的全局变量。
    
    ```c
    //1 在一个文件内扩展外部变量的作用域。
    #include<stdio.h>
    int main()
    {
    extern int a,b,c;
    }
    int a,b,c;
    int abc(int i)
    {
    …
    }
    //2将外部变量的作用域扩展到其他文件
    //文件1
    #include<stdio.h>
    int A;
    int main()
    {
    …
    }
    //文件2
    extern A;
    int abc（int a,int b）
    {
    int c;
    c=a+b;
    return ©;
    }
    //3将外部变量的作用域限制在本文件中
    文件1
    static int a;
    int main()
    {
    …
    }
    //文件2
    extern a;
    int abc(int i)
    {
    …
    }    
    ```
    
    像这样在全局变量用static声明，该变量就不能被使用于其他文件，也就是该全局变量的作用域是本文件



