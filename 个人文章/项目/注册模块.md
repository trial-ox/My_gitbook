注册功能代码流程

实现的功能
- 注册用户
- 通过邮件的方式验证用户信息


三次请求

## 处理跳转注册页面请求  /register  get方式
通过点击主页导航栏上面的注册按钮发送请求。

## 注册页面提交用户名、密码、用户邮箱  /register  post方式  直接传User对象，其他空字段默认为null


### Dao层
- UserMapper.insertUser()方法


### Service层

- 验证
    - UserService层register方法接收Controller层传过来的用户名、密码、邮箱，并进行验证。验证失败
    - 成功  
        - 》》》 往下走
    - 失败  
        - 封装消息到Controller。
- 调用dao层添加记录
    - 补全User对象(包括激活码)
    - 通过调用 UserDao.insertUser()方法添加记录，用户激活状态设置为0(未激活)。
- 发送激活邮件
    - 使用SpringMail
    - 拼接网址，携带新添加的用户的激活码。



### Controller层
- 调用UserService层register方法
- 判断返回结果
    - 成功
        - 跳转操作结果界面，显示已发送注册邮件。
    - 失败
        - 跳转注册界面，给前端页面返回错误提示。

## 激活账号请求     /activation/{userId}/{code}   Get方式
### C 
- 接受网址中的参数，调用Service激活方法
- 根据结果跳转界面
    - 根据Service返回消息，在操作结果页面显示不同消息，并返回不同页面。

### S
- 验证
    - 查询要激活的用户
    - 验证用户激活状态
    - 验证激活码
    - 返回C 不同结果
- 激活

### D
- 修改用户状态方法 UserMapper.updateStatus
- 根据id查询用户


### 注册有哪些功能
用户输入注册的用户名，密码后，以及邮箱后，服务器会在数据库中建立一条未激活状态的用户记录。

然后服务器给注册用户发一封激活邮件，用户点击后发出激活请求，账号就可以成功激活了

### 怎么实现的

分成三个请求
1. 处理跳转注册页面的 2. 处理注册请求的  3. 处理激活请求的。
发邮件是通过spring mail实现的

注册请求，会对账号是否已经存在，邮箱是否已经存在进行验证。 符合条件后直接在数据库添加记录。

激活请求
用户记录字段有一个激活码，把激活码拼接成激活请求链接发给用户，用户点击后，验证用户与对应的激活码，匹配后，成功激活。

### spring mail怎么用的？
新建配置类




